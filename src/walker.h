/**
* @file walker.h
 * @brief Обход директорий с рекурсивным перечислением файлов.
 *
 * Предоставляет функцию `walk_directory`, которая рекурсивно обходит
 * каталог и выполняет операции над найденными файлами.
 */

#ifndef WALKER_H
#define WALKER_H

#include "errors.h"  ///< Определения SUCCESS / FAILURE и другие коды ошибок

/// Максимальная длина строки в манифесте
#define LENLINEMAX 1024

/// Максимальная длина пути к файлу
#define PATHLENMAX 4096

/**
 * @brief Рекурсивный обход директории и обработка содержимого.
 *
 * Обходит указанный каталог и вызывает `print_line()` для каждого файла.
 * Поддерживает исключения по имени (если `exclude` задан).
 *
 * @param base_path Абсолютный или относительный путь, откуда начинается обход.
 * @param root_path Путь, от которого будет считаться относительный путь файлов.
 * @return SUCCESS при успешном завершении, либо код ошибки.
 */
int walk_directory(const char *base_path, const char *root_path);

#endif  // WALKER_H
